{% extends 'base/base.html' %}
{% load static %}

{% block title %}الرد على التقييم{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/forms.css' %}">
<style>
    .original-review {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    .original-review .rating-stars .fa-star {
        color: #ffc107;
    }
</style>
{% endblock %}

{% block content %}
<div class="form-container">
    <div class="form-card">
        <div class="form-header">
            <h1>الرد على تقييم العميل</h1>
            <p class="text-muted">أضف ردًا احترافيًا على تقييم العميل لتعزيز الثقة.</p>
        </div>

        <!-- Display Original Review -->
        <div class="original-review">
            <h5 class="mb-3">التقييم الأصلي من: {{ review.customer.get_full_name|default:review.customer.username }}</h5>
            <div class="rating-stars mb-2">
                {% for i in "12345" %}
                    <i class="fas fa-star{% if forloop.counter > review.rating %} far text-muted{% endif %}"></i>
                {% endfor %}
            </div>
            <p class="mb-0 fst-italic">"{{ review.comment }}"</p>
        </div>

        <form method="post" novalidate>
            {% csrf_token %}
            {% include 'base/includes/form_snippet.html' %}
            <div class="form-buttons">
                <button type-="submit" class="btn btn-primary">حفظ الرد</button>
                <a href="{% url 'barbershops:review_detail' review.pk %}" class="btn btn-secondary">إلغاء</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
